{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./KetQuaHocTap.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const KetQuaHocTap=()=>{const[hocSinh,setHocSinh]=useState([]);const[tenMoi,setTenMoi]=useState(\"\");const[diemA,setDiemA]=useState(\"\");const[diemB,setDiemB]=useState(\"\");const[diemC,setDiemC]=useState(\"\");const[editId,setEditId]=useState(null);const[search,setSearch]=useState(\"\");const fetchData=function(){let keyword=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";const url=keyword?\"/api/hocSinh?search=\".concat(encodeURIComponent(keyword)):\"/api/hocSinh\";fetch(url).then(res=>res.json()).then(data=>setHocSinh(data));};useEffect(()=>fetchData(),[]);useEffect(()=>{const t=setTimeout(()=>fetchData(search),300);return()=>clearTimeout(t);},[search]);const handleAdd=async()=>{if(!tenMoi)return;const res=await fetch(\"/api/hocSinh\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({ten:tenMoi,diemA,diemB,diemC})});const newHS=await res.json();setHocSinh(prev=>[...prev,newHS]);setTenMoi(\"\");setDiemA(\"\");setDiemB(\"\");setDiemC(\"\");};const handleDelete=async id=>{await fetch(\"/api/hocSinh/\".concat(id),{method:\"DELETE\"});setHocSinh(prev=>prev.filter(h=>h.id!==id));};const handleEdit=hs=>{setEditId(hs.id);setTenMoi(hs.ten);setDiemA(hs.diemA);setDiemB(hs.diemB);setDiemC(hs.diemC);};const handleSave=async id=>{const res=await fetch(\"/api/hocSinh/\".concat(id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({ten:tenMoi,diemA,diemB,diemC})});const updated=await res.json();setHocSinh(prev=>prev.map(h=>h.id===id?updated:h));setEditId(null);setTenMoi(\"\");setDiemA(\"\");setDiemB(\"\");setDiemC(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"K\\u1EBFt qu\\u1EA3 h\\u1ECDc t\\u1EADp\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"T\\xECm ki\\u1EBFm...\",value:search,onChange:e=>setSearch(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"T\\xEAn h\\u1ECDc sinh\",value:tenMoi,onChange:e=>setTenMoi(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u0110i\\u1EC3m A\",type:\"number\",step:\"0.1\",value:diemA,onChange:e=>setDiemA(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u0110i\\u1EC3m B\",type:\"number\",step:\"0.1\",value:diemB,onChange:e=>setDiemB(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u0110i\\u1EC3m C\",type:\"number\",step:\"0.1\",value:diemC,onChange:e=>setDiemC(e.target.value)}),editId?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSave(editId),children:\"L\\u01B0u\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleAdd,children:\"Th\\xEAm\"})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"A\"}),/*#__PURE__*/_jsx(\"th\",{children:\"B\"}),/*#__PURE__*/_jsx(\"th\",{children:\"C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"H\\xE0nh \\u0111\\u1ED9ng\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:hocSinh.map(hs=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:hs.ten}),/*#__PURE__*/_jsx(\"td\",{children:hs.diemA}),/*#__PURE__*/_jsx(\"td\",{children:hs.diemB}),/*#__PURE__*/_jsx(\"td\",{children:hs.diemC}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(hs),children:\"S\\u1EEDa\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(hs.id),children:\"X\\xF3a\"})]})]},hs.id))})]})]});};export default KetQuaHocTap;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","KetQuaHocTap","hocSinh","setHocSinh","tenMoi","setTenMoi","diemA","setDiemA","diemB","setDiemB","diemC","setDiemC","editId","setEditId","search","setSearch","fetchData","keyword","arguments","length","undefined","url","concat","encodeURIComponent","fetch","then","res","json","data","t","setTimeout","clearTimeout","handleAdd","method","headers","body","JSON","stringify","ten","newHS","prev","handleDelete","id","filter","h","handleEdit","hs","handleSave","updated","map","className","children","placeholder","value","onChange","e","target","type","step","onClick"],"sources":["C:/Users/Admin/ketqua-hoctap/client/src/KetQuaHocTap.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./KetQuaHocTap.css\";\n\nconst KetQuaHocTap = () => {\n  const [hocSinh, setHocSinh] = useState([]);\n  const [tenMoi, setTenMoi] = useState(\"\");\n  const [diemA, setDiemA] = useState(\"\");\n  const [diemB, setDiemB] = useState(\"\");\n  const [diemC, setDiemC] = useState(\"\");\n  const [editId, setEditId] = useState(null);\n  const [search, setSearch] = useState(\"\");\n\n  const fetchData = (keyword = \"\") => {\n    const url = keyword ? `/api/hocSinh?search=${encodeURIComponent(keyword)}` : \"/api/hocSinh\";\n    fetch(url)\n      .then(res => res.json())\n      .then(data => setHocSinh(data));\n  };\n\n  useEffect(() => fetchData(), []);\n  useEffect(() => {\n    const t = setTimeout(() => fetchData(search), 300);\n    return () => clearTimeout(t);\n  }, [search]);\n\n  const handleAdd = async () => {\n    if (!tenMoi) return;\n    const res = await fetch(\"/api/hocSinh\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ ten: tenMoi, diemA, diemB, diemC })\n    });\n    const newHS = await res.json();\n    setHocSinh(prev => [...prev, newHS]);\n    setTenMoi(\"\"); setDiemA(\"\"); setDiemB(\"\"); setDiemC(\"\");\n  };\n\n  const handleDelete = async (id) => {\n    await fetch(`/api/hocSinh/${id}`, { method: \"DELETE\" });\n    setHocSinh(prev => prev.filter(h => h.id !== id));\n  };\n\n  const handleEdit = (hs) => {\n    setEditId(hs.id);\n    setTenMoi(hs.ten); setDiemA(hs.diemA); setDiemB(hs.diemB); setDiemC(hs.diemC);\n  };\n\n  const handleSave = async (id) => {\n    const res = await fetch(`/api/hocSinh/${id}`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ ten: tenMoi, diemA, diemB, diemC })\n    });\n    const updated = await res.json();\n    setHocSinh(prev => prev.map(h => h.id === id ? updated : h));\n    setEditId(null); setTenMoi(\"\"); setDiemA(\"\"); setDiemB(\"\"); setDiemC(\"\");\n  };\n\n  return (\n    <div className=\"card\">\n      <h2>Kết quả học tập</h2>\n      <input placeholder=\"Tìm kiếm...\" value={search} onChange={e => setSearch(e.target.value)} />\n      <div className=\"form\">\n        <input placeholder=\"Tên học sinh\" value={tenMoi} onChange={e => setTenMoi(e.target.value)} />\n        <input placeholder=\"Điểm A\" type=\"number\" step=\"0.1\" value={diemA} onChange={e => setDiemA(e.target.value)} />\n        <input placeholder=\"Điểm B\" type=\"number\" step=\"0.1\" value={diemB} onChange={e => setDiemB(e.target.value)} />\n        <input placeholder=\"Điểm C\" type=\"number\" step=\"0.1\" value={diemC} onChange={e => setDiemC(e.target.value)} />\n        {editId ? (\n          <button onClick={() => handleSave(editId)}>Lưu</button>\n        ) : (\n          <button onClick={handleAdd}>Thêm</button>\n        )}\n      </div>\n      <table>\n        <thead>\n          <tr><th>Tên</th><th>A</th><th>B</th><th>C</th><th>Hành động</th></tr>\n        </thead>\n        <tbody>\n          {hocSinh.map(hs => (\n            <tr key={hs.id}>\n              <td>{hs.ten}</td>\n              <td>{hs.diemA}</td>\n              <td>{hs.diemB}</td>\n              <td>{hs.diemC}</td>\n              <td>\n                <button onClick={() => handleEdit(hs)}>Sửa</button>\n                <button onClick={() => handleDelete(hs.id)}>Xóa</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default KetQuaHocTap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}